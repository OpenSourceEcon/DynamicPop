\documentclass[10pt]{article}

% Math environment, symbols, bbm fonts, doublestroke fonts, physics for partial derivatives (pdv{}{}), breqn for multi-line equations
\usepackage{amsmath,amssymb,bbm,dsfont,physics,breqn}
% Define plim operator
\DeclareMathOperator*{\plim}{plim}
% Page size and margins
\usepackage{geometry}
\geometry{letterpaper,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
% Line spacing
\usepackage{setspace}
\setstretch{1.5} % 1 for default line spacing, 2 for double, etc.
% Hyperlink environment
\usepackage{hyperref}
\hypersetup{colorlinks,linkcolor=red,urlcolor=blue,citecolor=red}
% Table environment
\usepackage{booktabs}
% Threeparttable environment
\usepackage[flushleft]{threeparttable}
% Graphic environment
\usepackage{graphicx}
% Subfigures
\usepackage{subcaption}
% Allows float options (e.g. [H] or [!ht])
\usepackage[capposition=top]{floatrow}
% Indents first paragraph
\usepackage{indentfirst}
% Footnotes go to bottom of page
\usepackage[bottom]{footmisc}
% Bibliography with AER style
\usepackage{natbib}
\bibliographystyle{aer}

% Custom section/subsection formatting
\usepackage{titlesec}
% Make section be arabic
\renewcommand{\thesection}{\arabic{section}}
% Make subsection be arabic
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
% Make subsubsections be arabic
\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}
% Section title formatting
\titleformat{\section}%
   {\flushleft\bfseries\LARGE}{\thesection}{0.5em}{}
% Subsection title formatting
\titleformat{\subsection}%
   {\Large\bfseries}{\thesubsection}{0.5em}{}
% Subsubsection title formatting
\titleformat{\subsubsection}%
          {\large\bfseries}{\thesubsubsection}{0.5em}{}
% Paragraph title formatting
\setcounter{secnumdepth}{4}
\titleformat{\paragraph}%
          {\large\bfseries}{\theparagraph \newline}{0.5em}{}
% Bibliography title formatting
% Bibliography doesn't using \section*
\renewcommand{\bibsection}{%
   \newpage
   \flushleft{\LARGE{\textbf{{\refname}%
   }}}
}
% Appendix autoref
\usepackage{appendix}
\newcommand{\aref}[1]{\hyperref[#1]{Appendix~\ref{#1}}}

% Automatically label sections
\usepackage{letltxmacro}
\LetLtxMacro{\oldsection}{\section}
\renewcommand{\section}[2][]{\oldsection[#1]{#2}\index{#1}\label{sec:\thesection}}
\LetLtxMacro{\oldsubsection}{\subsection}
\renewcommand{\subsection}[2][]{\oldsubsection[#1]{#2}\index{#1}\label{sec:\thesubsection}}
\LetLtxMacro{\oldsubsubsection}{\subsubsection}
\renewcommand{\subsubsection}[2][]{\oldsubsubsection[#1]{#2}\index{#1}\label{sec:\thesubsubsection}}

% autoref prints sections/subsections as Section
\renewcommand{\sectionautorefname}{Section}
\renewcommand{\subsectionautorefname}{Section}
\renewcommand{\subsubsectionautorefname}{Section}

% Custom page numbering
\usepackage{fancyhdr,lastpage}
\pagestyle{fancy}
\lfoot{\footnotesize\textsl{\hyperref[sec:1]{Introduction} - \hyperref[sec:2]{Data} - \hyperref[sec:3]{Model} - \hyperref[sec:4]{Results} - \hyperref[sec:5]{Conclusion} - \hyperref[sec:A]{Appendix}}}
\rfoot{\footnotesize\textsl{Page \thepage\ of \pageref{LastPage}}}
\lhead{} % Remove filler
\chead{} % Remove filler
\rhead{} % Remove filler
\cfoot{} % Remove default page number
\renewcommand\headrulewidth{0pt} % Remove top line

% Equations numbered by section/subsection
\numberwithin{equation}{subsection}
% No more . inside of equation tags, instead say eqn.
\renewcommand{\theequation}{\thesubsection \text{ eqn.} \arabic{equation}}

% Suppress underfull \hbox warning
\hbadness=10000

% Custom enumerate
\renewcommand{\theenumi}{\alph{enumi}}

% Result dir
\newcommand*{\FigureDir}{../../graphs}
\newcommand*{\DemoDir}{../../code/Rick/OUTPUT/Demographics}
\newcommand*{\SSDir}{../../code/Rick/OUTPUT/SS}
\newcommand*{\TPDir}{../../code/Rick/OUTPUT/TP}

% Colors
\usepackage{xcolor}
\newcommand{\red}{\color{red}}
\newcommand{\blue}{\color{blue}}

\begin{document}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{EXAMPLE USAGE OF FIGURE AND TABLE}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% FIGURES

% \begin{figure}[H]
%    \centering
%    \caption{\label{fig:p\thesubsection}\autoref{sec:p\thesubsection}}
%    \scalebox{1}{
%       \begin{threeparttable}
%          \begin{tabular}{cc}
%             \includegraphics[width=0.50\textwidth]{\FigureDir/} &
%             \includegraphics[width=0.50\textwidth]{\FigureDir/} \\
%             \includegraphics[width=0.50\textwidth]{\FigureDir/} &
%             \includegraphics[width=0.50\textwidth]{\FigureDir/}
%          \end{tabular}
%       \end{threeparttable}
%    }
% \end{figure}

% SIDE BY SIDE FIGURES WITH CAPTIONS

% \begin{figure}[H]
%    \caption{\label{fig:\thesubsubsection.1}}
%    \begin{subfigure}{0.5\textwidth}
%       \centering
%       \includegraphics[width=\textwidth]{\SSDir/static/images/SS_n.png}
%       \caption{Subfig 1}
%    \end{subfigure}% <-- this "%" symbol is important
%    ~ % <-- this "~" symbol is important
%    \begin{subfigure}{0.5\textwidth}
%       \centering
%       \includegraphics[width=\textwidth]{\SSDir/dynamic_partial/images/SS_n.png}
%       \caption{Subfig 2}
%    \end{subfigure}
%    \newline <-- this creates a new lines
%    \begin{subfigure}{0.5\textwidth}
%       \centering
%       \includegraphics[width=\textwidth]{\SSDir/dynamic_full/images/SS_n.png}
%       \caption{Subfig 3}
%    \end{subfigure}%
%    ~ % <-- this "~" symbol is important
%    \begin{subfigure}{0.5\textwidth}
%       \centering
%       \includegraphics[width=\textwidth]{\SSDir/dynamic_full/images/SS_n.png}
%       \caption{Subfig 4}
%    \end{subfigure}
% \end{figure}

% TABLES

% \begin{table}[H]
%    \centering
%    \scalebox{0.75}{
%       \begin{threeparttable}\caption{\label{tab:p\thesubsection}\autoref{sec:p\thesubsection}}
%          \begin{tabular}{lcc}
%             \hline\hline\addlinespace
%             \input{../regression_tables/p1a.tex}
%             \addlinespace\hline\hline
%          \end{tabular}
%          \begin{tablenotes}
%             \item 
%             Standard errors in parentheses.
%          \end{tablenotes}
%       \end{threeparttable}
%    }
% \end{table}

% SIDE BY SIDE TABLES

% \begin{table}[H]
%    \begin{minipage}[t]{0.5\textwidth}
%      PUT TABLE 1 HERE
%    \end{minipage}% <-- this "%" symbol is important
%    \begin{minipage}[t]{0.5\textwidth}
%      PUT TABLE 2 HERE
%    \end{minipage}
% \end{table}

% How to reference sections: \autoref{sec:1}
% How to reference subsections: \autoref{sec:p1a}
% How to reference equations: \ref{eq:1a1} for section 1, subsection a, equation 1

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Thesis}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Title Page}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{titlepage}
\title{Estimation Effects of Various Demographic Forecasting Techniques in Japan Using an Overlapping Generations Model
         \thanks{I would like to thank Dr. Richard Evans for the guidance and support he provided while writing my thesis. I am gracious to Dr. Victor Lima and Dr. Kotaro Yoshida for all the helpful feedback they provided. I would also like to extend thanks to my family and friends who helped along the way, particularly Kei Irizawa and Ujaan Purakayastha.}
      }
\author{
   Adam Alexander Oppenheimer
   \footnote{University of Chicago,
      Department of Economics. Email:
      \href{mailto:oppenheimer@uchicago.edu}
      {oppenheimer@uchicago.edu}.
   }
}
\date{May 2020 \\
   \scriptsize{}}
\maketitle
\vspace{-9mm}
\begin{abstract}
\setstretch{1}
\small{The importance of demographics in economics is rarely understated. However, demographic forecasting often is. How important should it be? This paper considers demographic forecasting through the lens of Japan. As demonstrated in countless papers, Japan's future will largely be shaped by its aging population and declining fertility rates. This makes it an ideal case for reflecting on the importance of demographic forecasting in economics. This papers adds to the literature by considering beyond one model of demographic forecasting and asking how demographic model selection alters forecasts about Japan's economic future. Comparing forecasts from three commonly used and one novel, parametric demographic forecasting models in an overlapping generations setting, the answer appears to be that model selection in demographic forecasting may be more important than past literature would indicate. Future research should take this into consideration by estimating economic models using multiple demographic forecasting techniques.

% The future of Japan will largely be shaped by its aging population. Many papers have estimated the macroeconomic effects of population aging through the use of forecasted demographics. However, are these results being unduly influenced by how demographics are being forecasted?
% \par This paper attempts to shed light on the question of how various demographic forecasting techniques influence macroeconomic models of Japan. We consider four demographic models: the first (baseline) assumes constant demographics; the second assumes constant fertility, mortality, and immigration rates that describe an evolution of population; and the third and fourth use parametric and non-parametric models, respectively, to forecast fertility, mortality, and immigration rates over time that describe an evolution of population.
% \par Our results indicate that demographic forecasting technique may have some influence on macroeconomic aggregate estimates. Unsurprisingly, the baseline model results differ markedly from the models that include population evolution over time. Among the models that include population evolution, transition path results, other than investment, appear to be largely unaffected by forecasting technique. However, steady state results may be greatly influenced by forecasting method used. Depending on the model used, concerns about population aging in Japan may be far worse than anticipated in previous research.

\vspace{3mm}

\noindent\textit{keywords:}\:
   Overlapping Generations Model,
   Demographic Transition,
   Japan Calibration

\vspace{3mm}

}

\end{abstract}
\thispagestyle{empty}
\end{titlepage}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Introduction}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction}

\par How sensitive is the economy to demographics? Take coronavirus: how do its macroeconomic effects vary depending on assumptions about mortality rates or indirect effects on fertility through social distancing? Or consider pensions: how sustainable is the government budget given assumptions about future age distributions? Finally, consider macroeconomic models themselves: how dependent are individuals' incentives and behaviors on age distributions and mortality rates? In this paper, I attempt to address the question of macroeconomic model sensitivity to demographics by considering the economic predictions of various demographic forecasting techniques in an overlapping generations model, applied specifically to Japan.

\par Japan is an ideal country to estimate the macroeconomic effect of demographic transitions. Nearly no country faces the same level of population aging or declining fertility as Japan.\footnote{\cite{MOS2016}.} Owing to this, estimating the macroeconomic effect of Japan's population aging in an overlapping generations setting has been the focus of much recent literature.\footnote{See, for instance, \cite{BJ2015}, \cite{IKY2016}, \cite{K2015}, and \cite{MOS2016}.} The literature tends to focus on the effects of two complementary factors: increases in longevity and decreases in fertility rates.

\par Research on the Japanese demographic transition tends to use government projections of population and fertility and mortality rates. While many consider lower and upper bounds on these forecasts, none considers the potential consequences of considering only government forecasts or discusses what assumptions this entails. All four of the papers considered below investigate the effect of the demographic transition on (and propose strategies to restore) the fiscal sustainability of Japanese government policy. \cite{BJ2015} use government projections of fertility and mortality rates. They then set a linear trend of fertility rates such that population eventually stabilizes. They consider three variants of the forecasts: the first begins the fertility stabilization in 2060 and ends it in 2160. The second ends the fertility stabilization in 2110. The third model does not consider the official forecasts, instead assuming fertility increases linearly from the start of the model until 2060. All three models assume convergence to the same stationary population and fertility rate distributions.

\par \cite{IKY2016} use the same government projections, but choose to only compare results using the official \mbox{low-,} \mbox{medium-,} and high-variant forecasts. \cite{K2015} considers two models: the first assumes constant demographics, and the second uses government projections. In the second model, he assumes mortality rates stabilize in 2060 but sets population growth rate to linearly converge to 0 in 2150.

\par \cite{MOS2016} differs somewhat in that they consider the past effects of Japan's demographic transition. Using historical data, they consider counterfactual scenarios where they keep fertility rates constant starting in 1995 and where they keep mortality rates constant starting in 1982.

% \cite{BJ2015}: page 2: "Our model projections posit time-varying fertility rates and cohort-specific mortality rates that are derived from long- term population projections produced by the IPSS. Their medium scenario projections imply that the population will decline from 127.2 million in 2013 to 45.9 million in 2110. These dramatic changes are driven by the current age structure of the population. In particular, the number of females of child-bearing age is low and will decline for decades to come, even with plausible assumptions about an increase in the fertility rate."
% Page 4: "In our benchmark projection, we assume that the total fertility rate increases linearly from 1.34000 in 2060 to 2.01125 in 2160.5 These fertility and survival rates imply a stationary population in the terminal steady state.6"

% \cite{IKY2016}: page 124: "As we focus on the transition dynamics from 2010 to 2100, we use the conditional survival probabilities and the fertility rate in 2060 to assume the same rates from 2060 to 2100."

% \cite{K2015}: page 1: "We simulate our model starting with the demographics of 2010 and follow the population dynamics using official projections over the next five decades through 2060."
% Page 43: "Conditional survival rates \(s_{j,t}\) and the growth rates of new cohort \(n_t\) are calibrated based on the estimates of survival and fertility rates by the National Institute of Population and Social Security Research (IPSS), whose projections are available up to 2060. We use the survival rate estimates for 2010 in the initial steady state and 2060 for the final steady state. The cohort growth rates are assumed to be zero in the two steady states."

% \cite{MOS2016}: page 425: "In Figure 6, we display the time paths of macroeconomic variables in the economy where the population aged 21 is held constant from 1995 and beyond."
% Page 429: "In Figure 9, we display the time paths of macroeconomic variables in the economy where the household survival probability, instead of increasing, is held constant from 1982 onward."

\par The economic literature for Japan uses government projections of fertility and mortality rates. While I was unable to access this data for this paper, historical fertility, mortality, and population data for Japan is publicly available. Forecasts can then be made from this data. Many demographic forecasting tools exist. Parametric models for fitting fertility rates include \cite{HDFSB2019} and \cite{MS2011}. While these parametric models are generalized to fit many population distributions, parameter estimates from my fit for Japan fail to follow a discernable trend. In light of this, in this paper I describe a novel approach to parametrically forecast fertility rates that fits Japanese data well. While parametric models for forecasting mortality and immigration rates are not common in the literature, the parametric method I describe to fit fertility rates also works for mortality rates. I then describe a method to parametrically forecast immigration rates.

\par The workhorse of non-parametric demographic forecasting is the Lee-Carter method (described in \cite{GK2007}). In this paper, I consider a widely-used extension to the Lee-Carter method described in \cite{alt_demo_paper} as an alternative to the parametric technique I describe.

\par In total, this paper considers four models of population evolution in Japan. The first (static) assumes all demographics stay constant over time. The second (partial-dynamic) assumes population evolves but with constant fertility, mortality, and immigration rates over time. The third (full-dynamic) uses the parametric model I will later describe to forecast fertility, mortality, and immigration rates over time. Population then evolves using these forecasted rates. The final model (non-parametric/alternate full-dynamic) uses the non-parametric method described in \cite{alt_demo_paper} to forecast demographics over time. These demographic forecasts are then used to estimate the very general overlapping generations model described in \cite{E2020}. The model includes households and firms, but no government. With these results, we can analyze the sensitivity of results to demographic forecasting technique.

\par Simulation results indicate that choice of forecasting technique can have significant ramifications for aggregate and distributional economic outcomes. Compared to the static demographics model, the three dynamic demographics models have higher steady state consumption and savings and lower steady state labor supply for all ages. Further, the distribution in the non-parametric model has significantly lower consumption and savings and higher labor supply than the other two dynamic models at younger ages; but significantly higher consumption and savings and lower labor supply at older ages. This result comes from a much higher proportion of the population being older in the non-parametric model forecasts.

\par There are also time path ramifications. Aggregate output, capital, and consumption are higher in the three dynamic models relative to the static model for nearly all periods along the transition. Further, there is divergence between the three dynamic models over the time path (although they seem to converge to somewhat similar levels by steady state). Aggregate labor supply is lower in the three dynamic models relative to the static model for all periods along the transition. Again, there is divergence between the three dynamic models over the time path. In the case of aggregate labor supply, the three dynamic models again seem to converge to relatively similar levels by steady state.

\par From these results we can draw the primary conclusion from this paper: while slight adjustments to particular models (as between the partial-dynamic and full-dynamic models) can lead to changes in results, these differences pale in comparison to the differences between entirely different forecasting techniques (as seen with results from the non-parametric method). It is thus suggested that future research consider demographics beyond official government forecasts.

\par The paper is organized as follows. \autoref{sec:1} introduces. \autoref{sec:2} outlines the data. \autoref{sec:3} describes the model. \autoref{sec:4} provides results. \autoref{sec:5} concludes.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Data}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Data}

\par The model is fit using Japanese demographic data. Population and mortality rate data come from \cite{JMD2018}. These data are for ages 0 to 110+. Since the macroeconomic model considers only ages 0 to 99, data for ages above 99 are dropped by forcing mortality at the end of age 99. Fertility rate data come from \cite{HFC2018}. Because we want fertility rates by age, we use Age Specific Fertility Rates (ASFR). To ensure these fertility rates apply to only one age group, we use the Age Reached During the Year (ARDY) definition of ages. Because our model does not include gender, we divide fertility rates by 2. All other data required by the model comes from \cite{E2020}.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:pop_data}Population, 1970 (light) - 2014 (dark)}
   \scalebox{1}{
      \begin{threeparttable}
         \begin{tabular}{c}
            \includegraphics[width=0.50\textwidth]{\FigureDir/population/smooth_0/_aggregate_true.png}
         \end{tabular}
      \end{threeparttable}
   }
\end{figure}

\par Japan's demographic data reflects the importance of considering demographic transitions in economic models. Japan's population by age from 1970 to 2014 can be seen in \autoref{fig:pop_data}. Most dramatically, the population of babies has almost halved from over two million in 1970 to just over one million in 2014. At the same time, the elderly population has grown. This transition can be decomposed into changes in fertility and mortality rates. Fertility rates over time can be seen in \autoref{fig:fert_data}. The steady decline in fertility rates helps explain why we see a reduction in babies being born each year. Mortality rates over time can be seen in \autoref{fig:mort_data}. The steady decline in mortality rates, especially for older ages, helps explain why we see an increase in the elderly population each year. These two factors explain almost all of the change in population distribution in Japan over time.

\par Understanding how dramatically the Japanese population has changed in under 50 years makes it clear why economic models must consider demographic changes for any \mbox{medium-} or long-term forecasting. It is on this note that I move onto a discussion of the models considered in this paper. I begin by describing some commonly used existing demographic forecasting methods, then propose a parametric approach to forecasting demographics. I then apply these forecasts to an overlapping generations model to test how they affect economic outcomes.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:fert_data}Fertility Rates, 1970 (light) - 2014 (dark)}
   \scalebox{1}{
      \begin{threeparttable}
         \begin{tabular}{c}
            \includegraphics[width=0.50\textwidth]{\FigureDir/fertility/smooth_0/_aggregate_true.png}
         \end{tabular}
      \end{threeparttable}
   }
\end{figure}

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:mort_data}Mortality Rates, 1970 (light) - 2014 (dark)}
   \scalebox{1}{
      \begin{threeparttable}
         \begin{tabular}{c}
            \includegraphics[width=0.50\textwidth]{\FigureDir/mortality/smooth_0/_aggregate_true.png}
         \end{tabular}
      \end{threeparttable}
   }
\end{figure}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Model}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Model}

\par This paper considers the effect of demographic forecasts on Japan's economic transition. We consider four models of demographic evolution. The first model is static. It takes population, fertility, mortality, and immigration rates and holds them constant over time. The second model is partially dynamic. It keeps fertility, mortality, and immigration rates constant over time. Population evolves using these rates according to \ref{eq:pop_evolution}. The third model is fully dynamic. It uses the parametric model described in \autoref{sec:3.1} to forecast fertility, mortality, and immigration rates over time. Using these forecasted rates, it forecasts population over time using an exogenous baseline population. The fourth model is an alternate, non-parametric fully dynamic model described in \autoref{sec:3.1.5}. It uses the method described in \cite{alt_demo_paper} to forecast fertility, mortality, and immigration rates over time. It then forecasts population over time using these forecasted rates similarly to the parametric model.

\par We then consider the economic effects of these demographic forecasts in the overlapping generations model from \cite{E2020}. The economic model is described in detail in \aref{sec:A.1}. A short summary of the economic model follows.

\par The model consists of households and firms. The model does not include government. Households maximize over the utility function described in \ref{eq:hh_utility}. Households are identical and maximize over consumption, savings, and labor. Households receive utility from unintended bequests (warm bequest motive). This is necessary to fit savings data moments. Households live for \(E+S=100\) periods. During the first \(S=20\) periods, agents are outside the economy. During the final \(E=80\) periods, agents work and contribute to the economy. There is a unit-measure of identical firms. Firms maximize over the profit function described in \ref{eq:firm_profit}. Firms maximize profits over capital and labor. There is labor-augmenting technology that evolves exponentially. Three markets must clear in this model to solve the equilibrium: the labor market, capital market, and goods market. By Walras' Law, one of these market clearing conditions is redundant.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsection{Forecasting Demographics}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Forecasting Demographics}

\par The following sections discuss calibration and estimation for a parametric method to forecast fertility rates, mortality rates, immigration rates, and population. It also discusses the alternate, non-parametric forecasting method from \cite{alt_demo_paper}.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Forecasting Demographics - Fertility Rates}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Fertility Rates}

\par We begin the fertility rate estimation by fitting annual distributions using a generalized beta 2 distribution. The pdf for this distribution is defined as

\begin{equation}\label{eq:gb2_pdf}
   f(x|a, b, p, q) = \frac{ax^{ap-1}}{b^{ap}B(p,q)\left(1 + \left(\frac{x}{b}\right)^a\right)^{p+q}}, \hspace{5mm} x \in [0,\infty); a, b, p, q > 0   
\end{equation}

\noindent where \(B(v,w) = \int_0^1 t^{v-1}(1-t)^{w-1}dt\) is the beta function. Because the generalized beta 2 is a pdf but fertility rates are not a pdf, it is necessary to add in a scale parameter to properly fit the data. Fertility distributions are fit from 1970 to 2014, the most recent year of available data. We choose to start with 1970 as it is the initial year of data used by the Japanese government for its official demographic projections.\footnote{\cite{official_demo}.}

\par The fit of the model in selected years can be seen in \autoref{fig:\thesubsubsection.1}. The fit at the peak of the distribution is very close. The fit at the tails of the distribution is good at first but weakens over time - while it is possible to estimate parameters that better fit the tail for more recent data, the variance of the parameter estimates grows considerably and a trend in parameters disappears. Because of this, it is preferable to use parameters that have a slightly worse fit to the data in order to better estimate a trend.

\begin{figure}[!ht]
	\centering
   \caption{\label{fig:\thesubsubsection.1}Fertility Estimated by Generalized Beta 2}
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/1970.png}
			\caption{1970}
		\end{subfigure}% <-- this "%" symbol is important
		~ % <-- this "~" symbol is important
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/1990.png}
			\caption{1990}
		\end{subfigure}%
		\newline
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/2000.png}
			\caption{2000}
		\end{subfigure}%
		~ % <-- this "~" symbol is important
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/2014.png}
			\caption{2014}
		\end{subfigure}%
\end{figure}

\par Parameter estimates and their fit over time can be seen in \autoref{fig:\thesubsubsection.2}. In order to ensure estimated trends converge over time, parameter estimates are fit to logistic functions. The logistic function is defined as

\begin{equation}\label{eq:logistic_fn}
   f(x|L, k, x_0) = \frac{L}{1 + e^{-k(x-x_0)}}
\end{equation}

\noindent where \(L\) represents the maximum value of the curve, \(k\) represents the steepness of the curve, and \(x_0\) represents the midpoint of the curve.

\begin{figure}[!ht]
	\centering
   \caption{\label{fig:\thesubsubsection.2}Fertility Generalized Beta 2 Parameter Estimates}
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/_a_predicted.png}
			\caption{\(a\)}
		\end{subfigure}% <-- this "%" symbol is important
		~ % <-- this "~" symbol is important
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/_b_predicted.png}
			\caption{\(b\)}
		\end{subfigure}%
		\newline
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/_p_predicted.png}
			\caption{\(p\)}
		\end{subfigure}%
		~ % <-- this "~" symbol is important
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/_q_predicted.png}
			\caption{\(q\)}
      \end{subfigure}%
      \newline
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/_scale_predicted.png}
			\caption{Scale}
		\end{subfigure}%
\end{figure}

\par With the parameters from the logistic function estimated, we can now test the quality of our model fit. Comparisons of the models estimated with true data can be seen in \autoref{fig:\thesubsubsection.3}. The first panel shows the trend in true fertility rates from 1970-2014; the second panel shows the trend in model fertility rates from 1970-2014 using the logistic estimates of the generalized beta 2 parameters; the third panel shows the first two trends overlaid, with true data in red and model data in blue; and the fourth panel shows select estimates from the model.

\par From the first three panels, we can see that the model represents the general trends in fertility rates properly. Just as in the true data, the model correctly increases the modal fertility age over time while decreasing overall fertility over time. As discussed before, we can see in the overlay that the model does a better job of fitting the center of the distribution than the tails of the distribution.

\par The fourth panel gives us an indication of how fertility will evolve over time. We can see the large drop in fertility from 1990 to 2000 to 2014, which follows the same trend as the true data. With our model we now also have the ability to forecast future fertility rates. Our model forecasts that by 2050 fertility rates will continue their trend downward with a concurrent increase in the modal fertility age. We also see that the logistic functional form leads to a convergence in fertility rates by 2050 - the estimate for 2100 is almost exactly overlaid with the estimate for 2050.

\begin{figure}[!ht]
	\centering
   \caption{\label{fig:\thesubsubsection.3}Fertility Generalized Beta 2 Model Fit}
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/_aggregate_true.png}
			\caption{Data, 1970 (light) - 2014 (dark)}
		\end{subfigure}% <-- this "%" symbol is important
		~ % <-- this "~" symbol is important
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/_aggregate_predicted.png}
			\caption{Model}
		\end{subfigure}%
		\newline
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/_aggregate_overlay_predicted.png}
			\caption{Model (Blue) Overlays Data (Red)}
		\end{subfigure}%
		~ % <-- this "~" symbol is important
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/fertility/smooth_0/_2100.png}
			\caption{Model Forecasts}
		\end{subfigure}%
\end{figure}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Forecasting Demographics - Mortality Rates}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Mortality Rates}

\par Mortality rate estimation requires working in two steps: first, estimating infant mortality, then estimating non-infant mortality. This is necessary because infant mortality rates over the past century have been decreasing at a much faster rate than mortality rates for other ages. It is therefore necessary to model them separately in order to accurately represent the varying trends.

\par The infant mortality rate estimation takes one step: we fit the trend to a generalized polynomial of the form

\begin{equation}
   f(x|a, b, c, d, e) = a (e \cdot x - b)^{\frac{1}{c}} + d
\end{equation}

\par The fit of the model can be seen in \autoref{fig:\thesubsubsection.1}. Because of the steep drop in infant mortality rates over time, infant mortality rates are fit for the entire set of data from 1947-2016. However, to emphasize the importance of fitting recent data, additional weight is added to data from the last 15 years of the sample when estimating parameters. A penalization is also added for parameter estimates that forecast negative infant mortality rates by 2100 to ensure only positive future estimates before convergence is assumed to occur in 2050.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:\thesubsubsection.1}Infant Mortality Estimated by Polynomial}
   \scalebox{0.9}{
      \begin{threeparttable}
         \begin{tabular}{c}
            \includegraphics[width=0.50\textwidth]{\FigureDir/mortality/smooth_0/_infant_mortality_rate_predicted.png}
         \end{tabular}
      \end{threeparttable}
   }
\end{figure}

\par Annual non-infant mortality rates are fit using a generalized beta 2 distribution. The pdf for this distribution is defined in \ref{eq:gb2_pdf}. This is the same distribution used to fit fertility rate distributions. While mortality rates appear to follow an exponential distribution, there is no discernable trend in parameter estimates over time when fitting to this distribution. We instead choose to fit mortality rates to a generalized beta 2 distribution because this distribution produces a very clear trend in parameter estimates over time.

\par As with fertility rates, because the generalized beta 2 is a pdf but mortality rates are not a pdf, we add in a scale parameter. Mortality rate parameters are estimated from 1970 to 2014, to ensure consistency between mortality and fertility rate estimates.

\par The fit of the model in selected years can be seen in \autoref{fig:\thesubsubsection.2}. The estimated distribution has a very close fit to the true data. This is true for all years, unlike the fertility estimates which do not fit the tails properly for recent data.

\par Parameter estimates and their fit over time can be seen in \autoref{fig:\thesubsubsection.3}. In order to ensure estimated trends converge over time, parameters estimates are fit to logistic functions. The definition of the logistic function can be seen in \ref{eq:logistic_fn}. This is the same distribution used to fit fertility parameters.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:\thesubsubsection.2}Mortality Estimated by Generalized Beta 2}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/1970.png}
      \caption{1970}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/1990.png}
      \caption{1990}
   \end{subfigure}%
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/2000.png}
      \caption{2000}
   \end{subfigure}%
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/2014.png}
      \caption{2014}
   \end{subfigure}%
\end{figure}

\begin{figure}[!ht]
	\centering
   \caption{\label{fig:\thesubsubsection.3}Mortality Generalized Beta 2 Parameter Estimates}
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/_a_predicted.png}
			\caption{\(a\)}
		\end{subfigure}% <-- this "%" symbol is important
		~ % <-- this "~" symbol is important
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/_b_predicted.png}
			\caption{\(b\)}
		\end{subfigure}%
		\newline
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/_p_predicted.png}
			\caption{\(p\)}
		\end{subfigure}%
		~ % <-- this "~" symbol is important
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/_q_predicted.png}
			\caption{\(q\)}
      \end{subfigure}%
      \newline
		\begin{subfigure}{0.5\textwidth}
			\centering
			\includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/_scale_predicted.png}
			\caption{Scale}
		\end{subfigure}%
\end{figure}

\par With the parameters from the logistic function estimated, we can now test the quality of our model fit. Comparisons of the models estimated with true data can be seen in \autoref{fig:\thesubsubsection.4}. The first panel shows the trend in true mortality rates from 1970-2014; the second panel shows the trend in model mortality rates from 1970-2014 using the logistic estimates of the generalized beta 2 parameters; the third panel shows the first two trends overlaid, with true data in red and model data in blue; and the fourth panel shows select estimates from the model.

\par From the first three panels, we can see that the model represents the general trends in mortality rates properly. 

\par The fourth panel gives us an indication of how mortality will evolve over time. We can see a consistent decline in mortality from 1990 to 2000 to 2014, which follows the same trend as the true data. With our model we now also have the ability to forecast future mortality rates. Our model forecasts that by 2050 mortality rates will continue their trend downward. We also see that the logistic functional form leads to a convergence in mortality rates by 2050 - the estimate for 2100 is almost exactly overlaid with the estimate for 2050.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:\thesubsubsection.4}Mortality Generalized Beta 2 Model Fit}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/_aggregate_true.png}
      \caption{Data, 1970 (light) - 2014 (dark)}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/_aggregate_predicted.png}
      \caption{Model}
   \end{subfigure}%
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/_aggregate_overlay_predicted.png}
      \caption{Model (Blue) Overlays Data (Red)}
   \end{subfigure}%
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/mortality/smooth_0/_2100.png}
      \caption{Model Forecasts}
   \end{subfigure}%
\end{figure}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Forecasting Demographics - Immigration Rates}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Immigration Rates}

\par Estimating the evolution of immigration rates over time poses more of a challenge than fertility or mortality rates. While fertility and mortality rates can be estimated using a generalized beta 2 distribution, immigration rates follow a distribution that is difficult to model without a mixture method. To get around this, we instead model the evolution in immigration rates for each age independently. While this no longer allows for the use of a simple distribution and clear parameter evolutions over time for the entire set of data, it seems like a more reasonable way to fit the data than to fit a mixture model with a large number of distributions.

\par To fit the evolution of immigration rates for each age, we estimate the trend from 1997-2014 using linear regression, then forecast using an exponential distribution that matches the slope of the linear regression in 2014 and is assumed to plateau in 15 years at a value 10\% beyond the last value in the data. The exponential we fit is defined as

\begin{equation}
   f(x|a, b, c, d, p, s, \beta_0, \beta_1) = e^{a(x-s)^2 + b(x-s) + c} + p \label{eq:imm_exponential}
\end{equation}

\par A complete derivation of the analytical values of the parameters from this exponential distribution can be seen in \autoref{sec:A.2.1}. The fit of the model for selected ages can be seen in \autoref{fig:\thesubsubsection.1}. Unlike fertility and mortality rates, fertility rates by age appear not to have as predictable a trend. However, the linear regression model with exponential forecasts seems sufficient to have reasonable forecasts for the short term.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:\thesubsubsection.1}Immigration Estimated by Linear Regression and Forecasted by Exponential}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/immigration/age_forecasts/1.png}
      \caption{Age 1}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/immigration/age_forecasts/20.png}
      \caption{Age 20}
   \end{subfigure}%
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/immigration/age_forecasts/50.png}
      \caption{Age 50}
   \end{subfigure}%
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/immigration/age_forecasts/90.png}
      \caption{Age 90}
   \end{subfigure}%
\end{figure}

\par With the parameters from the linear regression and exponential estimated, we can now test the quality of our model fit. Comparisons of the models estimated with true data can be seen in \autoref{fig:\thesubsubsection.2}. The first panel shows the trend in true immigration rates from 1997-2014; the second panel shows the trend in model immigration rates from 1997-2014; the third panel shows the first two trends overlaid, with true data in red and model data in blue; and the fourth panel shows select estimates from the model. From the first three panels, we can see that the model represents the general trends in immigration rates properly, although with reduced variance. 

\par The fourth panel gives us an indication of how immigration will evolve over time. We can see a consistent decline in immigration from 1990 to 2000 to 2014 for the young and the elderly, with little change in immigration rates for other ages, which follows the same trend as the true data. With our model we now also have the ability to forecast future immigration rates. Our model forecasts that by 2050 immigration rates will continue their trend downward for both babies and the elderly. Other ages seem to have relatively unchanged immigration rates over time. We can also see that following the construction of our model, we have a convergence in immigration rates by 2030.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:\thesubsubsection.2}Immigration Estimated by Linear Regression and Forecasted by Exponential}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/immigration/smooth_0/_aggregate_true.png}
      \caption{Data, 1997 (light) - 2014 (dark)}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/immigration/smooth_0/_aggregate_predicted.png}
      \caption{Model}
   \end{subfigure}%
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/immigration/smooth_0/_aggregate_overlay_predicted.png}
      \caption{Model (Blue) Overlays Data (Red)}
   \end{subfigure}%
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/immigration/smooth_0/_2100.png}
      \caption{Model Forecasts}
   \end{subfigure}%
\end{figure}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Forecasting Demographics - Population}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Population}

\par Using our fertility, mortality, and immigration estimates, we can now use the population evolution described in \ref{eq:pop_evolution} to forecast future population given an initial year of population data.

\par We will first analyze quality of fit on past data. We test by beginning with 1970 population data and comparing the true population evolution against the population evolution forecasted by the model. Select years of the transition from 1970 to 2017, the most recent population data, can be seen in \autoref{fig:\thesubsubsection.1}. We can see in the first year of the model that there is a slight overestimate of births. This persists over time for this particular cohort, as the mortality rate should not be compensating for this. However, this slight overestimate is actually a rise in population that is is seen to occur just a few years later in the true data, when looking at the figure from 1985. The model does an accurate job of representing the inflection point in population that occurs around 1974 in the real data, and 1972 in the forecast. Looking at the figure from 2000, we can see that the model also accurately fits the inflection point in population around 1997. However, we begin to see that there a few ages where the model is overestimating the population and other ages where it is underestimating the population. The final figure is for 2017. This is 47 years after the start. The model appears to fit the data well and reflects the inflection points in the data. 

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:\thesubsubsection.1}Forecasted Versus True Population Initial Population Set to 1970}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/population_forecasts/start_1970/1971.png}
      \caption{1971}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/population_forecasts/start_1970/1985.png}
      \caption{1985}
   \end{subfigure}%
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/population_forecasts/start_1970/2000.png}
      \caption{2000}
   \end{subfigure}%
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/population_forecasts/start_1970/2017.png}
      \caption{2017}
   \end{subfigure}%
\end{figure}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Forecasting Demographics - Alternate}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Alternate Forecasting}

\par The final model we consider is a non-parametric forecasting model. The model uses a functional variation on the non-parametric principal components analysis (PCA) method to solve an orthonormal basis that maximizes the explained variance in the historical fertility, mortality, and immigration data. It then uses a univariate robust ARIMA model to forecast these values over time. Forecasts are made using the \(R\) package Demographics (\cite{alt_demo}) which is described in detail in \cite{alt_demo_paper}. \autoref{fig:alt_demog} includes fertility forecasts in the first panel, mortality forecasts in the second panel, and immigration forecasts in the third panel using this approach.\footnote{It should be noted that the \(R\) package itself does not put bounds on any rates. Fertility rates are bounded below at zero, mortality rates are bounded between zero and one, and immigration rates are bounded between minus one and one after running the \(R\) forecasts.} Given how far these results deviate from expectations (for instance, projected fertility rates by 2100 surpass fertility rates for all past data), we assume convergence for all rates by 2050 when we use this method in the overlapping generations model.\footnote{Many long-term predictions from the non-parametric model are hard to justify. For instance, the prediction that fertility rates will eventually become bi-model seems difficult to justify given that the current Japanese fertility distribution is uni-modal and such large changes to behavior would generally have to be considered endogenously. Further, the model predicts that fertility rates for the older population will continue to rise unboundedly, even though the data appears to show a slowdown over time. The mortality and immigration forecasts have similarly questionable results: mortality rates go to almost 0 over time for all ages; while immigration rates for babies and the elderly seem to be unboundedly decreasing over time.}

\begin{figure}[!ht]
   \caption{\label{fig:alt_demog}Demographics Forecasted by Non-Parametric Model}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/fertility/alternate/_2100.png}
      \caption{Fertility Rates}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/mortality/alternate/_2100.png}
      \caption{Mortality Rates}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\FigureDir/immigration/alternate/_2100.png}
      \caption{Immigration Rates}
   \end{subfigure}
\end{figure}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Forecasting Demographics - Population Forecasts}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Population Forecasts}

\par Using \ref{eq:pop_evolution}, we can use fertility, mortality, and immigration forecasts and an initial population to forecast population over time. We can see how population evolves over time in the partial-dynamic model in \autoref{fig:forecasted_pop}. We can see from this figure that for the partial-dynamic model, population growth rates in Japan are negative for all years. This causes population to converge to 0 over time. This result holds for all three dynamic demographic models we consider. This result should introduce caution into any quantitative interpretation of the results from the overlapping generations model; however, it should not fundamentally alter the qualitative comparisons between the models.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:forecasted_pop}Forecasted Population}
   \scalebox{1}{
      \begin{threeparttable}
         \begin{tabular}{c}
            \includegraphics[width=0.50\textwidth]{\FigureDir/population_forecasts/start_2017/predicted_basic.png}
         \end{tabular}
      \end{threeparttable}
   }
\end{figure}

\par While the population levels converge to zero over time, we can still draw inferences from the evolution of the population distribution over time. We can see the population distribution for each model with dynamic demographics at select years in \autoref{fig:forecasted_pop_dist}. We can see that for the partial- and full-dynamic models, the modal age of the population increases over time until it peaks at around 70 and 75 years old, respectively. This result indicates Japan faces a massive hurdle with respect to its aging population.

\par These results differ noticeably from the forecasts from the non-parametric model. Because fertility rates see rapid growth through 2100, population explodes. This causes the population distribution to weight heavily towards younger ages. Decreasing mortality rates also help the population grow over time. This leads to a positive population growth rate in the long-run. As discussed in \autoref{sec:3.1.5}, these results are driven by demographic forecasts that seem unreasonable. It is for this reason that the overlapping generations model assumes demographic forecasts from the non-parametric model converge in 2050. Forcing convergence in 2050 also allows consistency between the parametric and non-parametric forecasts. Demographic forecasts for the non-parametric model when assuming convergence in 2050 can be seen in \autoref{fig:steady_state_demographics} and lead to a negative population growth rate in the steady state, as in the other dynamic demographic models. In this case, the non-parametric model leads to a modal age of around 90 in the steady state.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:forecasted_pop_dist}Forecasted Population and Population Distribution}
   \scalebox{1}{
      \begin{threeparttable}
         \begin{tabular}{cc}
            \includegraphics[width=0.50\textwidth]{\FigureDir/population_forecasts/start_2017/predicted_proportion_basic.png} & \includegraphics[width=0.50\textwidth]{\FigureDir/population_forecasts/start_2017/predicted_proportion_parametric.png}
         \end{tabular}
      \end{threeparttable}
   }
   \scalebox{1}{
      \begin{threeparttable}
         \begin{tabular}{c}
            \includegraphics[width=0.50\textwidth]{\FigureDir/population_forecasts/start_2017/predicted_proportion_alt.png}
         \end{tabular}
      \end{threeparttable}
   }
\end{figure}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Results}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
\section{Results}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsection{Results - Demographics Transition and Steady State}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Demographics Transition and Steady State}

\par We can see steady state demographic results for the four models in \autoref{fig:steady_state_demographics}. Following the methods of \cite{DE2018}, we artificially impose that the population reaches its steady state distribution at \(t=120\). We do this by adjusting immigration rates such that \ref{eq:pop_evolution} stabilizes between periods. The first column of the results gives the true steady state population (the derivation of this is described in detail in \cite{DE2018}) and the population at \(t=120\), when we force convergence. As described previously, we can see how dramatically the population distribution varies between the four models.

\par As we move from the first to the last model, the steady state population distribution becomes increasingly negatively skewed. The transition from the static to the partial-dynamic model reflects the low fertility rate of the current population, which is below replacement level (reflected in a negative population growth rate). The transition from the partial-dynamic to both full-dynamic models reflects the downward trend in fertility (\autoref{fig:3.1.1.3}), mortality (\autoref{fig:3.1.2.4}), and immigration (\autoref{fig:3.1.3.2}) rates over time. As these rates decrease, the population will decrease and the proportion of the population that is younger (older) will decrease (increase). While these distinctions are interpretable, the reason for the distinction between the demographic outcomes of the two full-dynamic models is not as clear. While the third model is constructed to fit the shape of demographic curves very closely, the alternate model is non-parametric. It is possible that assuming convergence of rates, as is done in the parametric model, leads to higher rates than in the non-parametric model which does not assume convergence. Even lower fertility, mortality, and immigration rates in the non-parametric model than in the parametric model would explain why the demographic distribution shifts even more towards the elderly population. The third column of \autoref{fig:steady_state_demographics} gives the transitions of these demographic distributions over time.

\par In the second column of \autoref{fig:steady_state_demographics}, we can see steady state and adjusted immigration rates. In particular, it is noteworthy how negative the immigration rates are for babies and the elderly. For babies, this result may be coming from the emigration of young adults. These young adults are having a large portion of the babies being born, which could explain why it appears that even if only a small portion of young adults are leaving, if they make up a large portion of new parents, that would cause the immigration rate for babies to become extremely negative. This could also be an issue arising from the fertility data. The results for the elderly population are not surprising. Given the small proportion of the population that is subject to these unusual results, it is plausible that small disparities between the mortality and population data could lead to seemingly large immigration rates for the elderly population.

\par Comparing the steady state immigration results, there do not appear to be noteworthy differences between the results of the static, partial-dynamic, and full-dynamic models for most ages. One noticeable difference is that the full-dynamic model appears to have slightly lower immigration rates for the elderly population. The largest difference appears in the non-parametric model. We see that immigration rates are very near to zero for all ages except babies. However, immigration rates for babies become very negative: almost 80\% of all babies appear to be leaving the country in the model. This is likely a result from the non-parametric model not bounding its forecasts. This result largely explains why the demographic distribution ends up with such a high proportion of older individuals, as almost all babies end up leaving the country.

\begin{figure}[!ht]
   \centering
   \caption{\label{fig:steady_state_demographics}Population Steady State, and Adjustments, and Transition Path}
   \textbf{Static Demographics}
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/static/OrigVsFixSSpop.png}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/static/OrigVsAdjImm.png}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/static/PopDistPath.png}
   \end{subfigure}

   \textbf{Partial-Dynamic Demographics}
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/dynamic_partial/OrigVsFixSSpop.png}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/dynamic_partial/OrigVsAdjImm.png}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/dynamic_partial/PopDistPath.png}
   \end{subfigure}

   \textbf{Full-Dynamic Demographics}
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/dynamic_full/OrigVsFixSSpop.png}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/dynamic_full/OrigVsAdjImm.png}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/dynamic_full/PopDistPath.png}
   \end{subfigure}

   \textbf{Alternate Full-Dynamic Demographics}
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/dynamic_full_alternate/OrigVsFixSSpop.png}
      \caption{\\ \shortstack{Original vs. Adjusted\\SS Population Distribution}}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/dynamic_full_alternate/OrigVsAdjImm.png}
      \caption{\\ \shortstack{Original vs. Adjusted\\Immigration Rates}}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.33\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/dynamic_full_alternate/PopDistPath.png}
      \caption{\\ \shortstack{Population Distribution\\Along Time Path}}
   \end{subfigure}
\end{figure}

\par We now move to the results from the overlapping generations model. It should be noted that the static model seems to be giving results that are an order of magnitude too small as of the writing of this paper. This may be caused by choosing not to alter immigration rates to stabilize population levels in the steady state, making the model internally inconsistent. Regardless, this does not alter qualitative comparisons of the results of the three dynamic models.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Results - Steady State}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Steady State}

\par Steady state results giving percent deviations from the static demographic model can be seen below. Steady state results for each model can be seen in \aref{sec:A.3.2}. We focus on the percent deviation results, treating the static model as a baseline.

\par \autoref{fig:ss_consumption_pct} and \autoref{fig:ss_savings_pct} show results for steady state consumption and savings, respectively. The left panel gives results from the static (baseline) model. The right panel gives percent deviations from the baseline for the other three models considered. We can see that all four models follow a similar trend of an increase in consumption and savings until around age 70, when consumption and savings peak and then subsequently decline. However, what is noteworthy is the distinction between the static and dynamic models. The dynamic models are everywhere higher in both consumption and savings relative to the static model. There is also an even higher peak in these models at older ages. The results are especially apparent for the non-parametric model. While it is also everywhere higher than the static model, it is lower than the partial- and full-dynamic models at all ages until around 80 for consumption and 70 for savings. It then quickly surpasses the other two models and peaks at much higher levels of consumption and savings around age 90. This is likely explained by the very low mortality rates for all ages and high emigration rates for babies predicted by the non-parametric model (these predictions can be seen in \autoref{fig:alt_demog}, although it should once again be noted that the economic model only considers these forecasts until 2050).

\begin{figure}[H]
   \caption{\label{fig:ss_consumption_pct}Steady State Consumption}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/pct_change/images/SS_c_static.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/pct_change/images/SS_c.png}
      \caption{All Other Demographics (\% Deviation from Static)}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:ss_savings_pct}Steady State Savings}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/pct_change/images/SS_b_static.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/pct_change/images/SS_b.png}
      \caption{All Other Demographics (\% Deviation from Static)}
   \end{subfigure}
\end{figure}

\par \autoref{fig:ss_labor_pct} shows results for steady state labor supply. Steady state labor appears almost inverted relative to steady state consumption and savings. There is a decline in labor supply over time until it troughs at around age 70, at which point it subsequently increases. Again, it is important to distinguish between the static and dynamic models. The dynamic models are everywhere lower in labor supply relative to the static model. The dynamic models have even more extreme declines in labor at older ages. These results are more apparent for the non-parametric model, where the reduction in labor is less than the reduction in the partial- and full-dynamic models until around age 80, when it drops to be significantly below the declines of the other dynamic models.

\begin{figure}[H]
   \caption{\label{fig:ss_labor_pct}Steady State Labor Supply}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/static/images/SS_n.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/pct_change/images/SS_n.png}
      \caption{All Other Demographics (\% Deviation from Static)}
   \end{subfigure}
\end{figure}

%\par \autoref{fig:ss_consumption} shows results for steady state consumption and savings. We can see that the trend is almost identical in all four demographic models. However, the levels differ by model. The static model gives consumption and savings at about one-tenth the rate of the other models. This likely reflects the higher population of this model. The first model has constant population over time, meaning bequests will be the same proportion of the former population's income as the current population. However, the second through fourth models have negative population growth in the steady state. This will lead bequests to be a larger portion of the future population's income. This will allow them to consume and save more over their lifetimes.

%\par \autoref{fig:ss_labor} shows results for steady state labor supply. The differences between the models again likely reflects their differing population growth rates. Because agents in the first model have less endowments from bequests relative to income, they are forced to work more for a similar level of consumption and savings. In the second through fourth models, the higher level of endowments from bequests relative to income means agents have to work less for a similar level of consumption and savings.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Results - Time Path}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Time Path}
\par Time path results giving percent deviations from the static demographic model can be seen below. Time path results for each model can be seen in \aref{sec:A.3.3}. We focus on the percent deviation results, treating the static model as a baseline.

\par We start our discussion by considering aggregate output, aggregate capital, and aggregate consumption. Aggregate output results can be seen in \autoref{fig:tp_Y_pct}. Aggregate capital results can be seen in \autoref{fig:tp_K_pct}. Aggregate consumption results can be seen in \autoref{fig:tp_C_pct}. These three aggregates all follow very similar time paths. In the baseline model, they all begin at relatively low levels, increase rapidly and then quickly stabilize to their steady state levels in around 30 years. The three models with evolving population have remarkably different time paths relative to the static model in the short-term. They all begin with significantly higher levels of all three aggregates, but then similarly converge to steady state levels within around 30 years and these levels are very close to the static model. Results are all within a few percentage points by this convergence.

\par While the three models converge to similar levels in the long-run, the transition itself is particularly relevant. All three dynamic models are everywhere higher in output, capital, and consumption over the short- and medium-run than in the static model. Further, both the partial- and full-dynamic models have few deviations in these variables in the long-run. The non-parametric model, however, appears to have small but persistent deviations from its long-run trend, particularly for output. We show only the first 50 years of the transition for output to emphasize the short- and medium-run behavior of the model, as well as the deviations in the non-parametric model.

\begin{figure}[H]
   \caption{\label{fig:tp_Y_pct}Time Path of Aggregate Output \(\hat{Y}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_Y_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/pct_change/images/TP_Y_path.png}
      \caption{All Other Demographics (\% Deviation from Static)}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_K_pct}Time Path of Aggregate Capital \(\hat{K}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_K_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/pct_change/images/TP_K_path.png}
      \caption{All Other Demographics (\% Deviation from Static)}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_C_pct}Time Path of Aggregate Consumption \(\hat{C}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_C_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/pct_change/images/TP_C_path.png}
      \caption{All Other Demographics (\% Deviation from Static)}
   \end{subfigure}
\end{figure}

\par We finally consider aggregate labor supply. Results can be seen in \autoref{fig:tp_L_pct}. In the static model, aggregate labor supply begins at a very high level then rapidly declines to steady state levels. The three dynamic population models begin with significantly lower initial labor. Over time, all three dynamic close the gap between their aggregate labor supply and the aggregate labor supply in the static model. All three models converge to around two percent below the level in the static model within 40 years.

\par Again, while the three models converge to similar levels in the long-run, each model's transition is relevant. All three models are everywhere lower than the static model in aggregate labor supply in the \mbox{short-,} \mbox{medium-,} and long-run. Again, both the partial- and full-dynamic models have few deviations in aggregate labor supply in the long-run. These two models tend to follow each other closely, although the full-dynamic model has higher aggregate labor supply for about the first 30 years of the model, then quickly drops and remains below the level of the partial-dynamic model. Moving to the the non-parametric model, once again it has both short- and long-run deviations in the trend of its aggregate labor supply. In particular, it is higher than the aggregate labor supply of the partial- and full-dynamic models for approximately the first 35 years, dips to around their level for about a decade, but then once again rises above their level of aggregate labor supply at about 50 years after the start of the model. As with aggregate output, we show the first 75 years of the transition for aggregate labor supply to emphasize the short- and medium-run behavior of the model, as well as the deviations in the non-parametric model.

\begin{figure}[H]
   \caption{\label{fig:tp_L_pct}Time Path of Aggregate Labor Supply \(\hat{L}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_L_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/pct_change/images/TP_L_path.png}
      \caption{All Other Demographics (\% Deviation from Static)}
   \end{subfigure}
\end{figure}

%\par The final economic aggregate we consider is aggregate investment. Aggregate investment results can be seen in \autoref{fig:tp_I_pct}. Results differ noticeably between the three models. While the general shape of investment over time, with investment rapidly rising, falling, then stabilizing, appears among all three models, they are quite different in their actual levels of investment. All three models with evolving population have much lower levels of investment than the static model. Among the models with evolving population, the full-dynamic model has the lowest level of investment, with the partial-dynamic model having somewhat higher levels of investment and the parametric model having the highest levels of investment.

% \par \autoref{fig:tp_bq} shows the time path of total bequests.

% \par \autoref{fig:tp_ind_savings} shows the time path of individual savings.

% \par \autoref{fig:tp_agg_consumption} shows the time path of aggregate consumption.

% \par \autoref{fig:tp_ind_consumption} shows the time path of individual consumption.

% \par \autoref{fig:tp_agg_investment} shows the time path of aggregate investment.

% \par \autoref{fig:tp_agg_capital} shows the time path of aggregate capital.

% \par \autoref{fig:tp_agg_labor} shows the time path of aggregate labor supply.

% \par \autoref{fig:tp_ind_labor} shows the time path of individual labor supply.

% \par \autoref{fig:tp_net_exports} shows the time path of net exports.

% \par \autoref{fig:tp_interest_rate} shows the time of the interest rate.

% \par \autoref{fig:tp_wage} shows the time path of the wage.

% \par \autoref{fig:tp_agg_output} shows the time path of aggregate output.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Conclusion}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Conclusion}

\par This paper seeks to advance our understanding of the effect of demographic forecasting model selection on macroeconomic outcomes. We begin by considering three existing models of demographic forecasting: a static model where demographics are constant over time; a partially dynamic model (described in \cite{DE2018}) where fertility, mortality, and immigration rates are constant over time, but population evolves dynamically using these rates; and a non-parametric model (described in \cite{alt_demo_paper}) where fertility, mortality, and immigration rates are forecasted into the future, and these rates are used to forecast population over time. We then introduce a novel, parametric approach to forecasting demographics over time.

\par We show that using these four models, we end up with varying population transitions and steady state distributions. The results for the static model are intuitive: all values are constant over time. For the partial-dynamic model, the population distribution at steady state ends with a modal age of around 70. For the full-dynamic model, the modal age increases to around 75. For the non-parametric model, the modal age increases to nearly 90. We also see differences in steady state immigration rates, with the parametric model having lower immigration rates for the elderly population than the static and partial-dynamic models; but in particular, the immigration rate for babies in the non-parametric model is extremely low. This is a result of the unbounded forecasts made by the non-parametric model.

\par We then fit these demographic forecasts into the overlapping generations model described in \cite{E2020}. Results indicate that there is reason to be concerned about papers that consider only one model of demographic forecasts, even if they consider lower- and upper-bounds. We can see from both the steady state and time path results that the variation between the partial- and full-dynamic models is relatively low, despite how different their demographic forecasts seem to be. However, the differences between these forecasts and the static, and especially the non-parametric, models is striking. This indicates that if we believe the differences between the partial- and full-dynamic models to be reflective of the distinctions between lower- and upper-bounds, looking only at lower- and upper-bounds on a single model's forecasts may not be sufficient. Instead, future research should include estimates when considering multiple demographic forecasts as a robustness check.

\par While including multiple demographics forecasts is a first step, it is not sufficient. Take the forecasts from this model: they indicate that Japanese population growth rates will be negative in the steady state, causing population to converge to zero over time. A potential solution to this unlikely result would be to include endogenous fertility, in line with research such as \cite{BB1989}. This would allow fertility rates to endogenously increase in response to sufficiently low population levels, which seems like a more likely outcome than ever-decreasing populations. Finally, future research should investigate more rigorous approaches to comparing the economic outcomes from various demographic forecasting techniques.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Bibliography}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\bibliography{thesis_bib.bib}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \section{Appendix}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
\begin{appendices}
\section{Appendix}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsection{Appendix - Model}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Overlapping Generations Model}

\par We use the overlapping generations model described in \cite{E2020}. The model includes households and firms, endogenous labor, and exogenous productivity growth. Demographics are exogenous and fertility, mortality, and immigration rates can evolve over time. As a result of including mortality rates, the model includes unintended bequests. The model also incorporates a warm bequest motive to introduce an implicit borrowing constraint and allow for inter-generational transfers. A detailed description of the model follows.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Appendix - Model - Economic Model}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Overlapping Generations Economic Model}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \paragraph{Appendix - Model - Households}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\paragraph{Households}

\par The consumption and labor side of the economy is given by identical households. The measure of all households of age \(s\) in period \(t\) is denoted by \(\omega_{s,t}\). Households live at most \(E+S\) periods and become economically relevant at age \(E+1\). Households are endowed with a measure of time \(\tilde{l}\) to distribute between labor (\(n_{s,t} \in [0,\tilde{l}]\)) and leisure (\(l_{s,t} \in [0,\tilde{l}]\)), where \(n_{s,t} + l_{s,t} = \tilde{l} \hspace{3mm} \forall s, t\). Households then choose consumption \(c_{s,t}\), labor \(n_{s,t}\), and savings \(b_{s+1,t+1}\) to maximize the following utility function:

\begin{dmath}
   {u(c_{s,t}, n_{s,t}, b_{s+1,t+1}) = \frac{(c_{s,t})^{1-\sigma}-1}{1-\sigma} + e^{g_yt(1-\sigma)}\chi_{n,s}b\left[1-\left(\frac{n_{s,t}}{\tilde{l}}\right)\right]^{\frac{1}{\upsilon}}} \label{eq:hh_utility} \\
   {\hspace{40mm} + \rho_{s,t}\chi_b\frac{(b_{s+1,t+1})^{1-\sigma}-1}{1-\sigma} \hspace{3mm} \forall s,t}
\end{dmath}

\noindent subject to the following constraint:

\begin{equation}
   c_{s,t} + b_{s+1,t+1} = (1+r_t)b_{s,t} + w_tn_{s,t} + \frac{BQ_t}{\tilde{N}_t} \hspace{3mm} \forall t \hspace{3mm} \text{and} \hspace{3mm} s \geq E+1
\end{equation}

\par In the utility function, the utility of consumption is CRRA and is given by the first term on the right hand side; labor is subject to elliptical disutility as described in \cite{DE2018} and is given by the second term on the right hand side; and the warm bequest motive is given by the third term on the right hand side. We assume that savings upon entering the workforce and in the last possible period of life are zero (\(b_{E+1,t} = b_{E+S+1,t} = 0\)) and that \(c_{s,t} \geq 0\) (this results in \(c_{s,t} > 0\) in equilibrium).

\par In the elliptical disutility of labor term, \(e^{g_yt(1-\sigma)}\) scales the utility of labor to be in units comparable to the utility of consumption. This is necessary because labor is stationary but consumption is non-stationary, meaning that their unscaled utility measures are not comparable over time. The remaining variables in the elliptical disutility of labor term are defined in \cite{DE2018}.

\par In the warm bequest motive term, \(\rho_{s,t}\) gives the probability of dying at age \(s\) in time \(t\) and \(\chi_b\) gives a warm bequest motive parameter necessary for fitting data moments. The warm bequest motive provides utility for dying with positive savings. This implicitly introduces a borrowing constraint at zero, as the marginal utility of savings becomes infinity at zero savings by the Inada condition on this term.

\par In the budget constraint, \(BQ_t\) gives the total sum of unintended bequests left by the population that died in the previous period.\footnote{We formally define bequests as \(BQ_t = (1+r_t)\sum_{s=E+2}^{E+S+1}\rho_{s-1,t-1}\omega_{s-1,t-1}b_{s,t} \hspace{3mm} \forall t\)} This is divided by \(\tilde{N}_t\), the working-age population, to ensure bequests are evenly distributed among the economically relevant population. We define \(r_t\) and \(w_t\) as the interest rate and wage in period \(t\), respectively.

\par Further detail about solving the household's problem, such as deriving the first order conditions, solving the Euler equations, and solving the optimal paths of labor supply and savings given initial savings and the time paths of factor prices and total bequests can be read in \cite{E2020}.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \paragraph{Appendix - Model - Firms}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\paragraph{Firms}

\par The production side of the economy is given by a unit measure of identical, perfectly competitive firms. Firms produce following a Cobb-Douglas production function as follows:

\begin{equation}
   Y_t = F(K_t, L_t) \equiv A(K_t)^\alpha(e^{g_yt}L_t)^{1-\alpha} \forall t \hspace{3mm} \alpha \in (0, 1) \hspace{3mm} \text{and} \hspace{3mm} A>0
\end{equation}

\noindent where \(A\) gives the level of technology, \(K_t\) gives capital, \(L_t\) gives labor, \(\alpha\) gives the fraction of spending on capital relative to labor, and \(g_y\) gives the growth rate of labor productivity over time. Firms maximize the following profit function:

\begin{equation}
   PR_t = A(K_t)^\alpha(e^{g_yt}L_t)^{1-\alpha} - (r_t + \delta)K_t - w_tL_t \hspace{3mm} \forall t \label{eq:firm_profit}
\end{equation}

\noindent where firms choose \(K_t\) and \(L_t\), and \(\delta \in [0, 1]\) gives the rate of capital depreciation. Solving the first order conditions by taking derivatives with respect to capital and labor allows us to characterize the firm's optimal behavior as the following:

\begin{align}
   r_t = \alpha\left(\frac{Y_t}{K_t}\right) - \delta \hspace{3mm} \forall t \\
   w_t = (1-\alpha)\left(\frac{Y_t}{L_t}\right)\hspace{3mm} \forall t
\end{align}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \paragraph{Appendix - Model - Market Clearance}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\paragraph{Market Clearance}

\par The model we consider includes three markets that must clear: the labor market, the capital market, and the goods market. By Walras' Law, we need only consider the clearance of two of these markets in order for all three to clear. The three markets clearing conditions are as follows:

\textbf{Labor Market:}
\begin{equation}
   L_t = \sum_{s=E+1}^{E+S}\omega_{s,t}n_{s,t}
\end{equation}

\textbf{Capital Market:}
\begin{equation}
   K_t = \sum_{s=E+2}^{E+S+1}\Bigl(\omega_{s-1,t-1}b_{s,t}+i_{s,t}\omega_{s,t-1}b_{s,t}\Bigr)
\end{equation}

\textbf{Goods Market:}
\begin{dmath}
   Y_t = C_t + I_t - \sum_{s=E+2}^{E+S+1}i_{s,t+1}\omega_{s,t}b_{s,t+1} \\
   {\text{where} \hspace{3mm} I_t \equiv K_{t+1} - (1-\delta)K_t} \\
   {\text{and} \hspace{3mm} C_t \equiv \sum_{s=E+1}^{E+S}\omega_{s,t}c_{s,t}}
\end{dmath}

\par It is important to note that immigration is included in the capital and goods market clearing equations. This implies that capital held by immigrants goes into production in Japan and the capital held by emigrants leaves production in Japan. The last term in the goods market clearing equation represents net exports in this model.\footnote{In general, this would represent the capital account portion of net exports.} It should be noted that we assume that the capital held by immigrant households is equal to the capital held by equivalent households within Japan.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \paragraph{Appendix - Model - Stationarization and Equilibrium}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\paragraph{Stationarization and Equilibrium}

\par Please refer to \cite{E2020} for a detailed description of how to stationarize the model and solve the equilibrium.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Appendix - Model - Demographics}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Demographics}

\par We consider four demographic models in this paper. For the models with dynamic population, population evolution follows \ref{eq:pop_evolution}, where the \(s\) subscript indicates age and the \(t\) subscript indicates period. \(\omega_{s,t}, f_{s,t}, \rho_{s,t} \geq 0\) represent the age- and period-specific population, fertility rate, and mortality rate. \(i_{s,t}\) represents the net immigration rate. Agents live for a maximum of \(E+S\) periods, where \(S \geq 3\) and \(E + 1\) indicates the first working year of life. Agents age \(\leq E\) are modeled in population dynamics but are considered outside the economy. Population and mortality rate data come from \cite{JMD2018}. Fertility rate data come from \cite{HFC2018}.

\begin{dmath}\label{eq:pop_evolution}
   {\omega_{0,t+1} = \sum_{s=1}^{E+S}f_{s,t}\omega_{s,t} + i_{0,t}\omega_{0,t} \hspace{3mm} \forall t} \\
   {\omega_{s+1,t+1} = (1 - \rho_{s,t})\omega_{s,t} + i_{s+1,t}\omega_{s+1,t} \hspace{3mm} \forall t \hspace{3mm} \text{and} \hspace{3mm} 1 \leq s \leq E + S - 1}
\end{dmath}

\par This is a slight variation on the model used by \cite{DE2018} and \citet{IO2019}. The model used in both these papers assumes fertility, mortality and immigration rates are fixed at their 2014 levels. This paper attempts to forecast changes in those variables over time.

\par We now define some variables that are relevant to the remaining model sections. \(N_t\) gives the total population. \(g_{n,t}\) gives the population growth rate from period \(t-1\) to period \(t\). A variable accented by \(\sim\) indicates that is defined for only the working age population. The formal definitions of these variables follow.

\begin{align}
   N_t \equiv \sum_{s=1}^{E+S}\omega_{s,t} \hspace{3mm} \forall t \\
   g_{n,t+1} \equiv \frac{N_{t+1}}{N_t} - 1 \hspace{3mm} \forall t \\
   \tilde{N}_t \equiv \sum_{s=E+1}^{E+S}\omega_{s,t} \hspace{3mm} \forall t \\
   \tilde{g}_{n,t+1} \equiv \frac{\tilde{N}_{t+1}}{\tilde{N}_t} - 1 \hspace{3mm} \forall t
\end{align}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \paragraph{Appendix - Model - Fertility, Mortality, and Immigration Rates}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\paragraph{Fertility, Mortality, and Immigration Rates}

\par In order to allow for a range of model years, we fit fertility and mortality rates using cubic spline interpolation. The fit of the interpolated data to the real data can be seen in \autoref{fig:\thesubsubsection.1}. In this case, the fertility data is for all ages 14 to 50, and we impute fertility rates of 0 for all other ages; while the mortality data is for all ages from 0 to 99, and we set mortality to 1 at age 99. The interpolated function is fit at the midpoints of the data. It should exactly overlay the midpoint of the trend in the data, as it does. While in this case we consider only 1-year bins, the model allows for any positive bin size through the use of population-weighted fertility and mortality rates.

\begin{figure}[H]
   \caption{\label{fig:\thesubsubsection.1}Fertility and Mortality Rates by Age}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/fert_rates.png}
      \caption{Japanese Fertility Rates by Age, 2014}
   \end{subfigure}% <-- this "%" symbol is important
   ~ % <-- this "~" symbol is important
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\DemoDir/mort_rates.png}
      \caption{Japanese Mortality Rates by Age, 2014}
   \end{subfigure}
\end{figure}

\par Because accurate age-specific immigration rate data is not available for Japan, we estimate it as the residual between predicted and true population from \ref{eq:pop_evolution}. Immigration rates are formally defined as

\begin{dmath}
   {i_{0,t+1} = \frac{\omega_{0,t+1} - \sum_{s=1}^{E+S}f_{s,t}\omega_{s,t}}{\omega_{0,t}} \hspace{3mm} \forall t} \\
   {i_{s+1,t+1} = \frac{\omega_{s+1,t+1} - (1-\rho_{0,t})\omega_{s,t}}{\omega_{s+1,t}} \hspace{3mm} \forall t \hspace{3mm} \text{and} \hspace{3mm} 0 \leq s \leq E + S - 1}
\end{dmath}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \paragraph{Appendix - Model - Population Steady State and Transition Path}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\paragraph{Population Steady State and Transition Path}

\par \cite{E2020} proves that so long as the fertility, mortality, and immigration rates stabilize at some time \(T\), we can solve for the unique eigenvalue and eigenvector of the matrix representation of the population evolution equation. This eigenvalue can be represented as \((1 + \overline{g}_n)\), where \(\overline{g}_n\) gives the steady state population growth rate. In order to ensure that the population reaches its steady state more quickly, we artificially force the population to achieve its steady state value at \(t=120\). This is achieved by a slight adjustment of immigration rates. Steady state population, adjusted immigration rates, and the population transition path for the four demographic models we consider can be seen in \autoref{fig:steady_state_demographics}.

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsection{Appendix - Model}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
\subsection{Model}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsection{Appendix - Model - Immigration Rates}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Immigration Rates}

\noindent
We fit the exponential defined in \ref{eq:imm_exponential} with the following restrictions:
\begin{equation}
   f(x|a, b, c, d, p, s, \beta_0, \beta_1) = e^{a(x-s)^2 + b(x-s) + c} + p \tag{3.1 eqn. 4}
\end{equation}
\begin{align*}
   s.t. \hspace{5mm} &\left.\pdv{f}{x}\right|_{x=s} = \beta_1 \tag{cond. 1} \label{c1} \\
   &f(s) = \beta_0 + \beta_1 s \tag{cond. 2} \label{c2} \\
   &\left.\pdv{f}{x}\right|_{x=s + 15} \approx 0 \tag{cond. 3} \label{c3} \\
   &f(s + 15) = d \cdot f(s) \tag{cond. 4} \label{c4}
\end{align*}

\noindent where \(a, b\), and \(c\) are parameters to estimate, \(p\) shifts the curve so we can estimate \(c\) (this is explained in the derivation), \(s\) gives the last year of data, \(\beta_0\) and \(\beta_1\) are the OLS estimates from fitting the data, and we define \(d\) such that

\[
   d = \left\{\begin{matrix}
      0.9 & \text{if} & (\beta < 0 \text{ and } f(s) > 0) \text{ or } (\beta > 0 \text{ and } f(s) < 0) \\
      1.1 & \text{if} & (\beta < 0 \text{ and } f(s) < 0) \text{ or } (\beta > 0 \text{ and } f(s) > 0) \\
      1 & \text{if} & \beta = 0
   \end{matrix}\right.
\]

\par For notational simplicity, we define \(\beta = \beta_0 + \beta_1s\). We therefore have from \ref{c2} that \(e^c + p = \beta \Leftrightarrow c = \log(\beta - p)\). In order to ensure that we can compute \(c\), we set \(p < \beta\).

\par Using \(\pdv{f}{x} = (2a(x-s) + b)e^{a(x-s)^2 + b(x-s) + c}\) and \ref{c1}, we have \(be^c = \beta_1 \Leftrightarrow b = \frac{\beta_1}{\beta - p}\).

\par From \ref{c3} we have \((2a(15) + b)(f(x+15) - p) \approx 0\). Because the derivative cannot actually become 0, we can choose a value very close to 0 to estimate this curve numerically. We will label this value \(\epsilon\). Plugging in the value for \(f(x+15)\) from \ref{c4}, and recalling that \(f(s) = \beta_0 + \beta_1s = \beta\), we have \(\left(2a(15) + \frac{\beta_1}{\beta - p}\right)(d\cdot \beta - g) = \epsilon \Leftrightarrow a = \frac{1}{30}\left(\frac{\epsilon}{d\cdot\beta-g} - \frac{\beta_1}{\beta - p}\right)\). At 2030, we assume that the estimate stays constant for future years.

\par We therefore have the following:
\[
   \left\{
      p < \beta,
      a = \frac{1}{30}\left(\frac{\epsilon}{d\cdot\beta - g} - \frac{\beta_1}{\beta - p}\right),
      b = \frac{\beta_1}{\beta - p},
      c = \log(\beta - p)
   \right\}
\]

\noindent where \(\beta = \beta_0 + \beta_1s\).

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsection{Appendix - Results}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
\subsection{Results}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Appendix - Results - Time Path Results (Percent Deviations)}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Time Path Results (\% Deviation from Static)\footnote{The static model had numerical difficulties that caused it to diverge from the steady state a small number of periods prior to the final period of the simulation, so the last 50 periods are dropped from the time path figures. This allows the figures to give a better representation of the time paths of the economic variables.}}

\begin{figure}[H]
   \caption{\label{fig:tp_I_pct}Time Path of Aggregate Investment \(\hat{I}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_I_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/pct_change/images/TP_I_path.png}
      \caption{All Other Demographics (\% Deviation from Static)}
   \end{subfigure}
\end{figure}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Appendix - Results - Steady State Results (Levels)}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Steady State Results (Levels)}

\begin{figure}[H]
   \caption{\label{fig:ss_consumption}Steady State Consumption and Savings}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/static/images/SS_bc.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/dynamic_partial/images/SS_bc.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/dynamic_full/images/SS_bc.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/dynamic_full_alternate/images/SS_bc.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:ss_labor}Steady State Labor Supply}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/static/images/SS_n.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/dynamic_partial/images/SS_n.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/dynamic_full/images/SS_n.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\SSDir/dynamic_full_alternate/images/SS_n.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \subsubsection{Appendix - Results - Time Path Results (Levels)}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Time Path Results (Levels)\footnote{The static model had numerical difficulties that caused it to diverge from the steady state a small number of periods prior to the final period of the simulation, so the last 50 periods are dropped from the time path figures. This allows the figures to give a better representation of the time paths of the economic variables.}}

\begin{figure}[H]
   \caption{\label{fig:tp_bq}Time Path of Total Bequests \(\hat{BQ}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_BQ_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_BQ_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_BQ_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_BQ_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_ind_savings}Time Path of Individual Savings \(b_{s,t}\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_bs_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_bs_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_bs_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_bs_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_agg_consumption}Time Path of Aggregate Consumption \(\hat{C}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_C_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_C_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_C_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_C_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_ind_consumption}Time Path of Individual Consumption \(\hat{c}_{s,t}\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_cs_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_cs_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_cs_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_cs_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_agg_investment}Time Path of Aggregate Investment \(\hat{I}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_I_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_I_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_I_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_I_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_agg_capital}Time Path of Aggregate Capital \(\hat{K}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_K_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_K_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_K_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_K_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_agg_labor}Time Path of Aggregate Labor Supply \(\hat{L}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_L_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_L_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_L_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_L_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_ind_labor}Time Path of Individual Labor Supply \(n_{s,t}\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_ns_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_ns_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_ns_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_ns_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_net_exports}Time Path of Net Exports \(\hat{NX}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_NX_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_NX_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_NX_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_NX_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_interest_rate}Time Path of Interest Rate \(r_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_r_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_r_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_r_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_r_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_wage}Time Path of Wage \(\hat{w}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_w_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_w_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_w_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_w_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\begin{figure}[H]
   \caption{\label{fig:tp_agg_output}Time Path of Aggregate Output \(\hat{Y}_t\)}
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/static/images/TP_Y_path.png}
      \caption{Static Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_partial/images/TP_Y_path.png}
      \caption{Partial-Dynamic Demographics}
   \end{subfigure}
   \newline
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full/images/TP_Y_path.png}
      \caption{Full-Dynamic Demographics}
   \end{subfigure}%
   ~
   \begin{subfigure}{0.5\textwidth}
      \centering
      \includegraphics[width=\textwidth]{\TPDir/dynamic_full_alternate/images/TP_Y_path.png}
      \caption{Alternate Full-Dynamic Demographics}
   \end{subfigure}
\end{figure}

\end{appendices}

\end{document}
